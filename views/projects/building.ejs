<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= projectName %> | Luxury Interior Design Project</title>
    <link rel="stylesheet" href="/stylesheets/project-detail.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/stylesheets/footer.css">
</head>

<body>
    <!-- Header -->
    <header class="site-header">
        <div class="left-header">
            <a href="/" class="header-text">DEZSPACE<br>INTERIOR DESIGN & ARCHITECTURE STUDIO</a>
        </div>
        <div class="center-header">
            <a href="/" class="logo">
                <img src="/background_transparent_logo.png" alt="Dezspace Logo" class="logo-img">
            </a>
        </div>
        <div class="right-header">
            <nav>
                <ul>
                    <li><a href="/">HOME</a></li>
                    <li><a href="/about">ABOUT</a></li>
                    <li class="active"><a href="/projects">PROJECTS</a></li>
                    <li><a href="/blogs">BLOGS</a></li>
                    <li><a href="/contact">CONTACT</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="project-title">
                <%= projectName %>
            </h1>
        </div>
        <div class="hero-background">
            <div class="parallax-image" style="background-image: url('<%= projectImages[0] %>');"></div>
        </div>
    </section>
    
    <!-- Project Overview Section (like the image) -->
    <section class="project-overview" id="textAni1">
        <div class="project-overview-content" id="content1">
            <div class="large-title" id="headAni1">
                <% 
                // Split the subtitle into words and render each on a new line
                const words = projectSubtitle.split(' ');
                words.forEach(word => { %>
                   <h2><%= word.toUpperCase() %></h2>
                <% }); %>
            </div>
            <div class="project-description" id="parAni1">
                <% 
                // Split description into multiple lines for animation
                const descWords = projectDescription.split(' ');
                let lines = [];
                let currentLine = '';
                
                // Create lines of 5-8 words each
                descWords.forEach((word, index) => {
                    currentLine += word + ' ';
                    if ((index + 1) % 6 === 0 || index === descWords.length - 1) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                });
                
                // Output each line as a paragraph
                lines.forEach(line => { %>
                    <p><%= line %></p>
                <% }); %>
            </div>
        </div>
    </section>
    
    <!-- Dual Image Section -->
    <section class="dual-image-section " id="ani1">
        <div class="image-container left" id="left1">
            <img src="<%= projectImages[1] %>" alt="<%= projectName %> design detail">
        </div>
        <div class="image-container right" id="right1">
            <img src="<%= projectImages[2] %>" alt="<%= projectName %> interior view">
        </div>
    </section>
    
    <section class="gallery-section">
        <div class="gallery-image">
            <% 
            // Check if there's a high-quality gallery image available (image at index 3)
            const galleryImage = projectImages.length > 3 ? projectImages[3] : 
                (projectImages.length > 0 ? projectImages[0] : "/images/projects/high-quality/gallery-1.jpg"); 
            %>
            <img src="<%= galleryImage %>" alt="<%= projectName %> gallery image">
        </div>
    </section>
    
    <!-- Second Overview Section -->
    <section style="background-color: #BAA170;" class="project-overview" id="textAni2">
        <div class="project-overview-content" style="color: #000;" id="content2">
            <div class="large-title" style="color: #000;" id="headAni2">
                <% 
                // Reuse the subtitle words for the second section
                words.forEach(word => { %>
                   <h2 style="color: #000;"><%= word.toUpperCase() %></h2>
                <% }); %>
            </div>
            <div class="project-description2" style="color: #000;" id="parAni2">
                <% 
                // Reuse the description lines for the second section
                lines.forEach(line => { %>
                    <p style="color: #000;"><%= line %></p>
                <% }); %>
            </div>
        </div>
    </section>

    <section style="background-color: #BAA170; height:200vh;" class="dual-image-section" id="ani2">
        <div class="image-container left" id="left2">
            <img src="<%= projectImages[4] || projectImages[0] %>" alt="<%= projectName %> additional view">
        </div>
        <div class="image-container right" id="right2">
            <img src="<%= projectImages[2] || projectImages[1] %>" alt="<%= projectName %> additional detail">
        </div>
    </section>

    <!-- Next Project Section -->
    <section class="next-project-section">
        <div class="next-project-image">
            <% // Get the next project's hero image, defaulting to current project's first image if not available %>
            <img src="<%= nextProjectHeroImage || projectImages[0] %>" alt="<%= nextProject.name %>">
        </div>
        <div class="next-project-content">
            <span class="next-label">NEXT PROJECT</span>
            <h2><%= nextProject.name %></h2>
            <p><%= nextProject.description %></p>
            <a href="<%= nextProject.link %>" class="next-project-link">View Project</a>
        </div>
    </section>

    <!-- Scripts at bottom -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>
    <script src="/javascripts/project-details.js"></script>

  <!-- Include Footer -->
  <%- include('../partials/footer') %>

  <script src="/javascripts/footer.js"></script>
</body>
</html>